{"version":3,"sources":["webpack:///./src/animations.js"],"names":["body","document","querySelector","slider","slides","Array","from","querySelectorAll","arrowNext","getElementById","arrowPrev","isDragging","startPos","currentTranslate","prevTranslate","animationID","currentIndex","touchStart","index","event","classList","add","remove","getPositionX","requestAnimationFrame","animation","touchEnd","cancelAnimationFrame","movedBy","length","setPositionByIndex","touchMove","currentPos","type","includes","pageX","touches","setSliderPosition","style","transform","width","offsetWidth","forEach","slide","addEventListener","window","oncontextmenu","preventDefault","stopPropagation","e","code"],"mappings":"mBAEA,MAAMA,EAAOC,SAASC,cAAc,cAC9BC,EAASF,SAASC,cAAc,WAChCE,EAASC,MAAMC,KAAKL,SAASM,iBAAiB,WAC9CC,EAAYP,SAASQ,eAAe,cACpCC,EAAYT,SAASQ,eAAe,cAE1C,IAAIE,GAAa,EACbC,EAAW,EACXC,EAAmB,EACnBC,EAAgB,EAChBC,EAAc,EACdC,EAAe,EA6BnB,SAASC,EAAWC,GAChB,OAAO,SAASC,GACZnB,EAAKoB,UAAUC,IAAI,kBACnBrB,EAAKoB,UAAUE,OAAO,aACtBN,EAAeE,EACfN,EAAWW,EAAaJ,GACxBR,GAAa,EACbI,EAAcS,sBAAsBC,GACpCtB,EAAOiB,UAAUC,IAAI,aAI7B,SAASK,IACL1B,EAAKoB,UAAUE,OAAO,kBACtBtB,EAAKoB,UAAUC,IAAI,aACnBV,GAAa,EACbgB,qBAAqBZ,GAErB,MAAMa,EAAUf,EAAmBC,EAEhCc,GAAW,IAAMZ,EAAeZ,EAAOyB,OAAS,IAAGb,GAAgB,GACnEY,EAAU,IAAMZ,EAAe,IAAGA,GAAgB,GAErDc,IAEA3B,EAAOiB,UAAUE,OAAO,YAG5B,SAASS,EAAUZ,GACf,GAAGR,EAAW,CACV,MAAMqB,EAAaT,EAAaJ,GAChCN,EAAmBC,EAAgBkB,EAAapB,GAyBxD,SAASW,EAAaJ,GAClB,OAAOA,EAAMc,KAAKC,SAAS,SAAWf,EAAMgB,MAAQhB,EAAMiB,QAAQ,GAAGD,MAGzE,SAASV,IACLY,IACG1B,GAAYa,sBAAsBC,GAGzC,SAASY,IACLlC,EAAOmC,MAAMC,UAAa,cAAa1B,OAG3C,SAASiB,IACL,IAAIU,EAAQpC,EAAO,GAAGqC,YACtB5B,EAAoBG,GAAiBwB,EACrC1B,EAAgBD,EAChBwB,IApGJP,IAEA1B,EAAOsC,SAAQ,CAACC,EAAOzB,KAMpByB,EAAMC,iBAAiB,aAAc3B,EAAWC,IAChDyB,EAAMC,iBAAiB,YAAa3B,EAAWC,IAE/CyB,EAAMC,iBAAiB,YAAab,GACpCY,EAAMC,iBAAiB,YAAab,GAEpCY,EAAMC,iBAAiB,WAAYlB,GACnCiB,EAAMC,iBAAiB,UAAWlB,GAClCiB,EAAMC,iBAAiB,aAAclB,MAIxCmB,OAAOC,cAAgB,SAAS3B,GAG5B,OAFAA,EAAM4B,iBACN5B,EAAM6B,mBACC,GAuCXxC,EAAUoC,iBAAiB,SAAS,KAC7B5B,EAAeZ,EAAOyB,OAAS,IAAGb,GAAgB,GACrDc,OAGJpB,EAAUkC,iBAAiB,SAAS,KAC7B5B,EAAe,IAAGA,GAAgB,GACrCc,OAGJ7B,SAAS2C,iBAAiB,WAAYK,IACnB,eAAXA,EAAEC,MACClC,EAAeZ,EAAOyB,OAAS,IAAGb,GAAgB,GACrDc,KAEgB,cAAXmB,EAAEC,OACJlC,EAAe,IAAGA,GAAgB,GACrCc,S","file":"bundle.6046d12cd540a267f2f0.js","sourcesContent":["import './style.css';\n\nconst body = document.querySelector('.container');\nconst slider = document.querySelector('.slider');\nconst slides = Array.from(document.querySelectorAll('.slide'));\nconst arrowNext = document.getElementById(\"arrow-next\");\nconst arrowPrev = document.getElementById(\"arrow-prev\");\n\nlet isDragging = false,\n    startPos = 0,\n    currentTranslate = 0,\n    prevTranslate = 0,\n    animationID = 0,\n    currentIndex = 1;\n\nsetPositionByIndex();\n\nslides.forEach((slide, index) => {\n   //const slideImage = slide.querySelector('img');\n   //slideImage.addEventListener('dragstart', (e) => e.preventDefault());\n\n   //Touch events\n\n   slide.addEventListener('touchstart', touchStart(index));\n   slide.addEventListener('mousedown', touchStart(index));\n\n   slide.addEventListener('touchmove', touchMove);\n   slide.addEventListener('mousemove', touchMove);\n\n   slide.addEventListener('touchend', touchEnd);\n   slide.addEventListener('mouseup', touchEnd);\n   slide.addEventListener('mouseleave', touchEnd);\n\n});\n\nwindow.oncontextmenu = function(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    return false;\n}\n\n\nfunction touchStart(index){\n    return function(event){\n        body.classList.add('stop-scrolling');\n        body.classList.remove('scrolling');\n        currentIndex = index;\n        startPos = getPositionX(event);\n        isDragging = true;\n        animationID = requestAnimationFrame(animation);\n        slider.classList.add('grabbing');\n    }\n}\n\nfunction touchEnd(){\n    body.classList.remove('stop-scrolling');\n    body.classList.add('scrolling');\n    isDragging = false;\n    cancelAnimationFrame(animationID);\n\n    const movedBy = currentTranslate - prevTranslate;\n\n    if(movedBy < -50 && currentIndex < slides.length - 1) currentIndex += 1;  \n    if(movedBy > 50 && currentIndex > 0) currentIndex -= 1; \n\n    setPositionByIndex();\n\n    slider.classList.remove('grabbing');\n}\n\nfunction touchMove(event){\n    if(isDragging){\n        const currentPos = getPositionX(event);\n        currentTranslate = prevTranslate + currentPos - startPos;\n    }\n}\n\narrowNext.addEventListener('click', () => {\n    if(currentIndex < slides.length - 1) currentIndex += 1;\n    setPositionByIndex();\n});\n\narrowPrev.addEventListener('click', () => {\n    if(currentIndex > 0) currentIndex -= 1;\n    setPositionByIndex();\n});\n\ndocument.addEventListener('keydown', (e) => {\n    if (e.code === \"ArrowRight\"){ \n        if(currentIndex < slides.length - 1) currentIndex += 1;\n        setPositionByIndex();\n    }\n    else if (e.code === \"ArrowLeft\"){\n        if(currentIndex > 0) currentIndex -= 1;\n        setPositionByIndex();\n    }\n});\n\nfunction getPositionX(event) {\n    return event.type.includes('mouse') ? event.pageX : event.touches[0].pageX;\n}\n\nfunction animation() {\n    setSliderPosition();\n    if(isDragging) requestAnimationFrame(animation);\n}\n\nfunction setSliderPosition() {\n    slider.style.transform = `translateX(${currentTranslate}px)`;\n}\n\nfunction setPositionByIndex() {\n    let width = slides[0].offsetWidth;\n    currentTranslate =  currentIndex * - width;\n    prevTranslate = currentTranslate;\n    setSliderPosition();\n}\n"],"sourceRoot":""}