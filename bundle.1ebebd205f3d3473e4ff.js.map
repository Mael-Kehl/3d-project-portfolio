{"version":3,"sources":["webpack:///./src/animations.js"],"names":["slider","document","querySelector","slides","Array","from","querySelectorAll","isDragging","startPos","currentTranslate","prevTranslate","animationID","currentIndex","touchStart","index","event","getPositionX","requestAnimationFrame","animation","classList","add","touchEnd","cancelAnimationFrame","movedBy","length","width","offsetWidth","setSliderPosition","setPositionByIndex","remove","touchMove","currentPos","type","includes","pageX","touches","style","transform","forEach","slide","addEventListener","window","oncontextmenu","preventDefault","stopPropagation"],"mappings":"mBAEA,MAAMA,EAASC,SAASC,cAAc,WAChCC,EAASC,MAAMC,KAAKJ,SAASK,iBAAiB,WAEpD,IAAIC,GAAa,EACbC,EAAW,EACXC,EAAmB,EACnBC,EAAgB,EAChBC,EAAc,EACdC,EAAe,EA2BnB,SAASC,EAAWC,GAChB,OAAO,SAASC,GACZH,EAAeE,EACfN,EAAWQ,EAAaD,GACxBR,GAAa,EACbI,EAAcM,sBAAsBC,GACpClB,EAAOmB,UAAUC,IAAI,aAI7B,SAASC,IACLd,GAAa,EACbe,qBAAqBX,GAErB,MAAMY,EAAUd,EAAmBC,EAEhCa,GAAW,IAAMX,EAAeT,EAAOqB,OAAS,IAAGZ,GAAgB,GACnEW,EAAU,IAAMX,EAAe,IAAGA,GAAgB,GA4BzD,WACI,IAAIa,EAAQtB,EAAO,GAAGuB,YACtBjB,EAAoBG,GAAiBa,EACrCf,EAAgBD,EAChBkB,IA9BAC,GAEA5B,EAAOmB,UAAUU,OAAO,YAI5B,SAASC,EAAUf,GACf,GAAGR,EAAW,CACV,MAAMwB,EAAaf,EAAaD,GAChCN,EAAmBC,EAAgBqB,EAAavB,GAIxD,SAASQ,EAAaD,GAClB,OAAOA,EAAMiB,KAAKC,SAAS,SAAWlB,EAAMmB,MAAQnB,EAAMoB,QAAQ,GAAGD,MAGzE,SAAShB,IACLS,IACGpB,GAAYU,sBAAsBC,GAGzC,SAASS,IACL3B,EAAOoC,MAAMC,UAAa,cAAa5B,OAnE3CN,EAAOmC,SAAQ,CAACC,EAAOzB,KAMpByB,EAAMC,iBAAiB,aAAc3B,EAAWC,IAChDyB,EAAMC,iBAAiB,YAAa3B,EAAWC,IAE/CyB,EAAMC,iBAAiB,YAAaV,GACpCS,EAAMC,iBAAiB,YAAaV,GAEpCS,EAAMC,iBAAiB,WAAYnB,GACnCkB,EAAMC,iBAAiB,UAAWnB,GAClCkB,EAAMC,iBAAiB,aAAcnB,MAIxCoB,OAAOC,cAAgB,SAAS3B,GAG5B,OAFAA,EAAM4B,iBACN5B,EAAM6B,mBACC,I","file":"bundle.1ebebd205f3d3473e4ff.js","sourcesContent":["import './style.css';\n\nconst slider = document.querySelector('.slider');\nconst slides = Array.from(document.querySelectorAll('.slide'));\n\nlet isDragging = false,\n    startPos = 0,\n    currentTranslate = 0,\n    prevTranslate = 0,\n    animationID = 0,\n    currentIndex = 0;\n\nslides.forEach((slide, index) => {\n   //const slideImage = slide.querySelector('img');\n   //slideImage.addEventListener('dragstart', (e) => e.preventDefault());\n\n   //Touch events\n\n   slide.addEventListener('touchstart', touchStart(index));\n   slide.addEventListener('mousedown', touchStart(index));\n\n   slide.addEventListener('touchmove', touchMove);\n   slide.addEventListener('mousemove', touchMove);\n\n   slide.addEventListener('touchend', touchEnd);\n   slide.addEventListener('mouseup', touchEnd);\n   slide.addEventListener('mouseleave', touchEnd);\n\n});\n\nwindow.oncontextmenu = function(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    return false;\n}\n\n\nfunction touchStart(index){\n    return function(event){\n        currentIndex = index;\n        startPos = getPositionX(event);\n        isDragging = true;\n        animationID = requestAnimationFrame(animation);\n        slider.classList.add('grabbing');\n    }\n}\n\nfunction touchEnd(){\n    isDragging = false;\n    cancelAnimationFrame(animationID);\n\n    const movedBy = currentTranslate - prevTranslate;\n\n    if(movedBy < -50 && currentIndex < slides.length - 1) currentIndex += 1;  \n    if(movedBy > 50 && currentIndex > 0) currentIndex -= 1; \n\n    setPositionByIndex();\n\n    slider.classList.remove('grabbing');\n\n}\n\nfunction touchMove(event){\n    if(isDragging){\n        const currentPos = getPositionX(event);\n        currentTranslate = prevTranslate + currentPos - startPos;\n    }\n}\n\nfunction getPositionX(event) {\n    return event.type.includes('mouse') ? event.pageX : event.touches[0].pageX;\n}\n\nfunction animation() {\n    setSliderPosition();\n    if(isDragging) requestAnimationFrame(animation);\n}\n\nfunction setSliderPosition() {\n    slider.style.transform = `translateX(${currentTranslate}px)`;\n}\n\nfunction setPositionByIndex() {\n    let width = slides[0].offsetWidth;\n    currentTranslate =  currentIndex * - width;\n    prevTranslate = currentTranslate;\n    setSliderPosition();\n}\n"],"sourceRoot":""}